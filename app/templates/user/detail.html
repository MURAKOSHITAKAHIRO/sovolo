{% extends "base.html" %}
{% load event_tags %}

{% block title %}{{ user.username }} ユーザー詳細 | Sovol{% endblock %}

{% block content %}

{% include "user/user_header.html" %}

<div class="panel panel-primary">
  <div class="panel-heading">
    <h1 class="panel-title">所属グループ一覧</h1>
  </div>
  <div class="panel-body">
    {% for group in user.group_set.all %}
      <div class="media">
        <div class="media-left">
          <a href="{% url "group:detail" group.id %}">
            <div class="thumbnail list-thumbnail" style="background-image:url({{ group.get_image_url }})"></div>
          </a>
        </div>
        <div class="media-body">
          <h3 class="media-heading"><a href="{% url "group:detail" group.id %}">{{ group.name }}</a></h3>
          {{ group.description }}
        </div>
      </div>
    {% empty %}
    <p>所属しているグループがありません</p>
    {% endfor %}
  </div>
</div>

{% if user.admin_event.all %}
{% event_list user.admin_event.all "管理しているボランティア一覧" %}
{% endif %}
{% event_list user.get_future_participating_events "参加予定ボランティア一覧"　%}
{% event_list user.get_past_participated_events "ボランティア実績"　%}

<div class="panel panel-primary">
  <div class="panel-heading">
    <h1 class="panel-title">フォローしているタグ</h1>
  </div>
  <div class="panel-body">
    {% for tag in user.follow_tag.all %}
      <a class="tag" href="{% url 'event:search' %}?tags={{ tag.id }}"><i class="fa fa-tag" aria-hidden="true"></i>{{ tag.name }}</a>
    {% empty %}
    <p>フォローしているタグがありません</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
